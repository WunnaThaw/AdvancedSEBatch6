<html>
    <script src="https://cdn.jsdelivr.net/npm/ramda@0.30.0/dist/ramda.min.js"></script>
    <script>
      
        let nums = [1,1,1,2,2,3], k = 2;
        //1-3, 2-2, 3-1
        //top K [1,2]
        /*
        let group = R.countBy(R.identity)(nums);
        console.log('Group ',group);

        let arr = R.toPairs(group);
        console.log('Arr ',arr);

        arr = R.sort( (a,b)=> b[1]-a[1])(arr);
        console.log('Arr ',arr);
        
        arr = arr.map(ele=>ele[0]);
        console.log('Arr ',arr);

        let result = R.take(k)(arr);
        console.log('Result ',result);
        */ 
       function tap(fn)
       {
           return function (x)
           {
               fn(x);
               return x;
           }
       }
       //const log = tap(console.log);
       //log(10);
       const log = R.tap(console.log);
       let topK = R.pipe(
            R.countBy(R.identity),
            log,
            R.toPairs,
            log,
            R.sort( (a,b)=> b[1]-a[1]),
            log,
            R.map(ele=>ele[0]),
            log,
            R.take(k)
       );
       let result= topK(nums);
       console.log('Result ',result);
    </script>
</html>